{"version":3,"file":"better-file-downloads.cjs.development.js","sources":["../src/index.ts"],"sourcesContent":["type FileData = {\n  fileName: string;\n  extension: string;\n  contentType: string;\n};\n\nconst download = (blob: Blob | Uint8Array, fileInfo: FileData): void => {\n  if (typeof window.navigator.msSaveOrOpenBlob === 'function') {\n    window.navigator.msSaveBlob(\n      blob,\n      `${fileInfo.fileName}${fileInfo.extension}`\n    );\n  } else {\n    const a = window.document.createElement('a');\n    a.href = window.URL.createObjectURL(blob);\n    a.download = `${fileInfo.fileName}${fileInfo.extension}`;\n    window.document.body.appendChild(a);\n    a.click();\n    window.document.body.removeChild(a);\n  }\n};\n\nexport const downloadAUrl = async (fileUrl: string, fileInfo: FileData, accessToken: String) => {\n  const headers = new Headers\n  ({\n    \"Authorization\": `Bearer ${accessToken}`\n  });\n\n  const response = await fetch(fileUrl, { method: 'GET', headers });\n  const data = await response.blob();\n\n  download(data, fileInfo);\n};\n\nexport const downloadABlob = (\n  fileContent: Blob | Uint8Array,\n  fileInfo: FileData\n): void => {\n  const blob = new Blob([fileContent], { type: fileInfo.contentType });\n  download(blob, fileInfo);\n};\n"],"names":["download","blob","fileInfo","window","navigator","msSaveOrOpenBlob","msSaveBlob","fileName","extension","a","document","createElement","href","URL","createObjectURL","body","appendChild","click","removeChild","downloadAUrl","fileUrl","accessToken","headers","Headers","fetch","method","response","data","downloadABlob","fileContent","Blob","type","contentType"],"mappings":";;;;AAMA,IAAMA,QAAQ,GAAG,SAAXA,QAAW,CAACC,IAAD,EAA0BC,QAA1B;AACf,MAAI,OAAOC,MAAM,CAACC,SAAP,CAAiBC,gBAAxB,KAA6C,UAAjD,EAA6D;AAC3DF,IAAAA,MAAM,CAACC,SAAP,CAAiBE,UAAjB,CACEL,IADF,OAEKC,QAAQ,CAACK,QAFd,GAEyBL,QAAQ,CAACM,SAFlC;AAID,GALD,MAKO;AACL,QAAMC,CAAC,GAAGN,MAAM,CAACO,QAAP,CAAgBC,aAAhB,CAA8B,GAA9B,CAAV;AACAF,IAAAA,CAAC,CAACG,IAAF,GAAST,MAAM,CAACU,GAAP,CAAWC,eAAX,CAA2Bb,IAA3B,CAAT;AACAQ,IAAAA,CAAC,CAACT,QAAF,QAAgBE,QAAQ,CAACK,QAAzB,GAAoCL,QAAQ,CAACM,SAA7C;AACAL,IAAAA,MAAM,CAACO,QAAP,CAAgBK,IAAhB,CAAqBC,WAArB,CAAiCP,CAAjC;AACAA,IAAAA,CAAC,CAACQ,KAAF;AACAd,IAAAA,MAAM,CAACO,QAAP,CAAgBK,IAAhB,CAAqBG,WAArB,CAAiCT,CAAjC;AACD;AACF,CAdD;;IAgBaU,YAAY,YAAZA,YAAY,CAAUC,OAAV,EAA2BlB,QAA3B,EAA+CmB,WAA/C;AAAA;AACvB,QAAMC,OAAO,GAAG,IAAIC,OAAJ,CACf;AACC,mCAA2BF;AAD5B,KADe,CAAhB;2BAKuBG,KAAK,CAACJ,OAAD,EAAU;AAAEK,MAAAA,MAAM,EAAE,KAAV;AAAiBH,MAAAA,OAAO,EAAPA;AAAjB,KAAV,kBAAtBI;6BACaA,QAAQ,CAACzB,IAAT,mBAAb0B;AAEN3B,QAAAA,QAAQ,CAAC2B,IAAD,EAAOzB,QAAP,CAAR;;;AACD,GAVwB;AAAA;AAAA;AAAA;IAYZ0B,aAAa,GAAG,SAAhBA,aAAgB,CAC3BC,WAD2B,EAE3B3B,QAF2B;AAI3B,MAAMD,IAAI,GAAG,IAAI6B,IAAJ,CAAS,CAACD,WAAD,CAAT,EAAwB;AAAEE,IAAAA,IAAI,EAAE7B,QAAQ,CAAC8B;AAAjB,GAAxB,CAAb;AACAhC,EAAAA,QAAQ,CAACC,IAAD,EAAOC,QAAP,CAAR;AACD;;;;;"}