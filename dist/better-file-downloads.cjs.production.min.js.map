{"version":3,"file":"better-file-downloads.cjs.production.min.js","sources":["../src/index.ts"],"sourcesContent":["type FileData = {\n  fileName: string;\n  extension: string;\n  contentType: string;\n};\n\nconst download = (blob: Blob | Uint8Array, fileInfo: FileData): void => {\n  if (typeof window.navigator.msSaveOrOpenBlob === 'function') {\n    window.navigator.msSaveBlob(\n      blob,\n      `${fileInfo.fileName}${fileInfo.extension}`\n    );\n  } else {\n    const a = window.document.createElement('a');\n    a.href = window.URL.createObjectURL(blob);\n    a.download = `${fileInfo.fileName}${fileInfo.extension}`;\n    window.document.body.appendChild(a);\n    a.click();\n    window.document.body.removeChild(a);\n  }\n};\n\nexport const downloadAUrl = async (fileUrl: string, fileInfo: FileData, accessToken: String) => {\n  const headers = new Headers\n  ({\n    \"Authorization\": `Bearer ${accessToken}`\n  });\n\n  const response = await fetch(fileUrl, { method: 'GET', headers });\n  const data = await response.blob();\n\n  download(data, fileInfo);\n};\n\nexport const downloadABlob = (\n  fileContent: Blob | Uint8Array,\n  fileInfo: FileData\n): void => {\n  const blob = new Blob([fileContent], { type: fileInfo.contentType });\n  download(blob, fileInfo);\n};\n"],"names":["download","blob","fileInfo","window","navigator","msSaveOrOpenBlob","msSaveBlob","fileName","extension","a","document","createElement","href","URL","createObjectURL","body","appendChild","click","removeChild","fileContent","Blob","type","contentType","fileUrl","accessToken","headers","Headers","fetch","method","response","data"],"mappings":"oEAMA,IAAMA,EAAW,SAACC,EAAyBC,MACQ,mBAAtCC,OAAOC,UAAUC,iBAC1BF,OAAOC,UAAUE,WACfL,KACGC,EAASK,SAAWL,EAASM,eAE7B,KACCC,EAAIN,OAAOO,SAASC,cAAc,KACxCF,EAAEG,KAAOT,OAAOU,IAAIC,gBAAgBb,GACpCQ,EAAET,YAAcE,EAASK,SAAWL,EAASM,UAC7CL,OAAOO,SAASK,KAAKC,YAAYP,GACjCA,EAAEQ,QACFd,OAAOO,SAASK,KAAKG,YAAYT,2BAgBR,SAC3BU,EACAjB,OAEMD,EAAO,IAAImB,KAAK,CAACD,GAAc,CAAEE,KAAMnB,EAASoB,cACtDtB,EAASC,EAAMC,kCAjBkBqB,EAAiBrB,EAAoBsB,WAChEC,EAAU,IAAIC,QACnB,yBAC4BF,2BAGNG,MAAMJ,EAAS,CAAEK,OAAQ,MAAOH,QAAAA,oBAAjDI,0BACaA,EAAS5B,uBAAtB6B,GAEN9B,EAAS8B,EAAM5B"}